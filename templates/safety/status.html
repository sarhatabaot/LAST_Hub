{% extends "base.html" %}

{% block title %}Safety Status{% endblock %}

{% block sidebar %}
  {% include "partials/sidebar.html" %}
{% endblock %}

{% block content %}
<section class="container">
  <header>
    <article class="safety-card {% if safe %}pico-background-green-50{% elif safe == False %}pico-background-red-50{% else %}pico-background-slate-50{% endif %}">
      <h1 class="safety-status-title">
        {% if safe %}SAFE{% elif safe == False %}UNSAFE{% else %}UNKNOWN{% endif %}
      </h1>
    </article>
    {% if evaluated_at %}
      <p><strong>Evaluated at:</strong> {{ evaluated_at }}</p>
    {% endif %}
  </header>

  {% if error %}
    <article>
      <p><strong>Error:</strong> {{ error }}</p>
    </article>
  {% endif %}

  <article>
    <h2>Failed Reasons</h2>
    {% if failed_reasons %}
      <ul>
        {% for reason in failed_reasons %}
          <li>{{ reason }}</li>
        {% endfor %}
      </ul>
    {% else %}
      <p>None.</p>
    {% endif %}
  </article>

  <article>
    <h2>Passed Reasons</h2>
    {% if passed_reasons %}
      <ul>
        {% for reason in passed_reasons %}
          <li>{{ reason }}</li>
        {% endfor %}
      </ul>
    {% else %}
      <p>None.</p>
    {% endif %}
  </article>

  <article>
    <h2>Stale Sensors</h2>
    {% if stale_sensors %}
      <ul>
        {% for sensor in stale_sensors %}
          <li>{{ sensor }}</li>
        {% endfor %}
      </ul>
    {% else %}
      <p>None.</p>
    {% endif %}
  </article>
</section>
{% endblock %}
